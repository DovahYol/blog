---
layout: post
title: "位运算中的技巧"
tags: ['bitwise']
---
### 位运算减法
```
a - b = a + (-b) = a + ~b + 1
```
### 除以2的幂的补码除法，向上舍入
```
(x+(1<<k)-1)>>k
```
我们有⌈x/y⌉=⌊(x+y-1)/y⌋。

假设x=qy+r，其中0&le;r<y。

得到(x+y-1)/y=q+(r+y-1)/y，因此⌊(x+y-1)/y⌋=q+⌊(r+y-1)/y⌋。

当r=0时，后面一项等于0，而当r>0时，等于1。

也就是说，通过给x增加一个偏量y-1，然后再将出发向下舍入，当y整除x时，我们得到q，否则，就得到q+1。